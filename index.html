<!DOCTYPE html>
<html lang="he">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title> </title>

<style>
body{
  font-family: Arial, sans-serif;
  text-align:center;
  background: #ffdde1;
  overflow:hidden;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:flex-start;
  padding:5vw;
}

.screen{ display:none; padding-top:10vw; }
.show{ display:block; }

button{
  font-size:5vw;
  padding:3vw 5vw;
  margin:3vw;
  border:none;
  border-radius:12px;
  cursor:pointer;
  background:#ff4da6;
  color:white;
  position:relative;
}

input{
  padding:3vw;
  font-size:4vw;
  border-radius:10px;
  border:1px solid #ccc;
  width:80%;
}

#errorMsg{
  color:red;
  font-size:4vw;
  margin-top:2vw;
}

#alisaBtn{ transition:0.3s; }

.heart{
  position:fixed;
  top:-20px;
  font-size:6vw;
  animation:fall 3s linear infinite;
}

@keyframes fall{
  to{ transform:translateY(110vh); opacity:0;}
}

@media screen and (max-width:400px){
  button{ font-size:6vw; padding:4vw 6vw; }
  input{ width:90%; font-size:5vw; padding:4vw; }
  h1,h2{ font-size:7vw; }
}

.note{
  font-size:3vw;
  color:#000;
  position:absolute;
  top:-4vw; 
  left:0;
  width:100%;
}

#s5 div{ margin-top:8vw; }
</style>
</head>

<body>

<div id="s1" class="screen show">
<h1>  住 </h1>
<h2>:住 砖</h2>
<input id="nameInput">
<div id="errorMsg"></div>
<br>
<button onclick="checkName()">砖专</button>
</div>

<div id="s2" class="screen">
<h1>住转  注转  砖 砖   </h1>
<button onclick="next(3)">砖</button>
</div>

<div id="s3" class="screen">
<h2>?  转 转 注</h2>
<div style="position:relative; display:flex; flex-direction:column; gap:4vw; align-items:center;">
  <button onclick="q1Correct(this)"></button>
  <button onclick="q1Wrong(this)">住转 </button>
  <button onclick="q1Wrong(this)">  专 砖 专 转</button>
  <button onclick="q1Wrong(this)">砖 砖</button>
</div>
</div>

<div id="s4" class="screen">
<h2>?   转 (住) 注</h2>
<div style="position:relative; display:flex; flex-direction:column; gap:4vw; align-items:center;">
  <button onclick="q2Correct(this)">转</button>
  <button onclick="q2Wrong(this)">住转 </button>
  <button onclick="q2Wrong(this)">  专 砖 专 转</button>
  <button onclick="q2Wrong(this)">砖 砖</button>
</div>
</div>

<div id="s5" class="screen">
<h2>?  转  转专</h2>
<div>
<button id="alisaBtn" onclick="win()">  (住) 转 (专)</button>
<button id="yBtn" onclick="shrink()">转 (专) 转 (住)</button>
</div>
</div>

<div id="s6" class="screen">
<h1>     爪拽转  <br> love u</h1>
<img src="https://media.giphy.com/media/MDJ9IbxxvDUQM/giphy.gif">
</div>

<script>
function next(n){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("show"));
  document.getElementById("s"+n).classList.add("show");
}

function checkName(){
  const name = document.getElementById("nameInput").value.trim();
  const error = document.getElementById("errorMsg");
  if(name === ""){
    error.innerText = "转转 转砖 砖 ";
  } else {
    error.innerText = "";
    next(2);
  }
}

function q1Correct(btn){
  next(4);
}
function q1Wrong(btn){
  const notes = [" ","砖 ","专   "," 拽专"];
  if(btn.querySelector(".note")) return;
  const note = document.createElement("span");
  note.className="note";
  note.innerText = notes[Math.floor(Math.random()*notes.length)];
  btn.appendChild(note);
}

function q2Correct(btn){
  alert("   转砖 ! ");
  next(5);
}
function q2Wrong(btn){
  const notes = ["","砖 ","砖 驻 砖 ",""];
  if(btn.querySelector(".note")) return;
  const note = document.createElement("span");
  note.className="note";
  note.innerText = notes[Math.floor(Math.random()*notes.length)];
  btn.appendChild(note);
}

let size=1;
function shrink(){
  size+=0.3;
  document.getElementById("alisaBtn").style.transform="scale("+size+")";
  document.getElementById("yBtn").style.transform="scale("+(1/size)+")";
  if(size>3){
    document.getElementById("yBtn").style.display="none";
  }
}

function win(){
  next(6);
  hearts();
}

function hearts(){
  setInterval(()=>{
    let h=document.createElement("div");
    h.className="heart";
    h.innerHTML="わ";
    h.style.left=Math.random()*100+"vw";
    h.style.fontSize=(6+Math.random()*6)+"vw";
    document.body.appendChild(h);
    setTimeout(()=>h.remove(),3000);
  },200);
}
</script>

</body>
</html>
